function requireLib {parameter file. if not EXISTS("1:/"+file) and addons:rt:hasconnection(ship) copypath("0:/Library/"+file,"").runpath("1:/"+file).}function a{parameter c.return "0:/Missions/"+core:tag+"/"+c.}function b{if not addons:rt:hasconnection(ship)return 0.return EXISTS(a("update.ks")).}set ship:control:pilotmainthrottle to 0.if b(){copypath(a("update.ks"),"").movepath(a("update.ks"),a(TIME:SECONDS+"_update.ks")).runpath("update.ks").}else if EXISTS("startup.ks")runpath("startup.ks").
